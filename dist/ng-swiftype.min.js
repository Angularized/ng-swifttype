angular.module("ngSwiftype",[]),angular.module("ngSwiftype").service("ngSwiftype.api",["$http","ngSwiftype.cache",function(e,t){var i="https://api.swiftype.com/api/v1/public/engines/suggest.json";this.search=function(s){var n=s||{};return n.q=s.q,n.engine_key=s.engine_key,n.page=s.page||1,n.per_page=s.per_page||20,n.search_fields=s.search_fields,n.fetch_fields=s.fetch_fields,n.filters=s.filters,n.document_types=s.document_types,n.functional_boosts=s.functional_boosts,n.sort_field=s.sort_field,n.sort_direction=s.sort_direction,e({method:"POST",url:i,params:n,cache:t})}}]),angular.module("ngSwiftype").factory("ngSwiftype.cache",["$cacheFactory",function(e){return e("cache")}]),angular.module("ngSwiftype").directive("swiftypeAutocomplete",["ngSwiftype.api",function(e){var t=["$scope",function(t){function i(e){var i=e.data.info,s=e.data.records,n=0;for(key in i)t.results[key]=i[key],t.results[key].records=s[key],n+=i[key].total_result_count;t.results.record_count=n,t.loading=!1}function s(e){t.error={status:e.status,statusText:e.statusText},t.loading=!1}function n(n,a){t.loading=!0,r.q=t.term,r.engine_key=t.engine_key,r.per_page=t.limits,r.fetch_fields=t.fetch_fields,r.search_fields=t.search_fields,r.filters=t.filters,r.page=n||1,e.search(r).then(i,s)}t.results={},t.error={},t.loading=!1;var r={};t.search_by=function(e,t){n(e,t)},t.keyup=function(e){var i=e.keyCode||e.which;i>36&&41>i||16==i||(t.term&&t.term.length>2?n(t.page):(t.results={},t.$apply()))}}];return{restrict:"CE",controller:t,link:function(e,t,i){e.engine_key=i.engineKey,e.limits=i.limits||20,i.fetchFields&&(e.fetch_fields=JSON.parse(i.fetchFields)),i.searchFields&&(e.search_fields=JSON.parse(i.searchFields)),i.filters&&(e.filters=JSON.parse(i.filters)),t.bind("keyup",e.keyup)}}}]),angular.module("ngSwiftype").directive("autoFocus",function(){return{link:{post:function(e,t){t[0].focus()}}}});
//# sourceMappingURL=ng-swiftype.min.js.map